<model-wrapper>
  <div
    class="m-3 max-w-md mx-auto bg-white p-8 rounded-2xl shadow-md text-black"
  >
    <div>
      <span
        [class]="{ active: currentSection() == 1 }"
        (click)="currentSection.set(1)"
      >
        Patient Login
      </span>
      <span
        [class]="{ active: currentSection() == 2 }"
        (click)="currentSection.set(2)"
      >
        Family Login
      </span>
    </div>
    @if (currentSection() == 1) {
      <form [formGroup]="patientLoginForm" (ngSubmit)="patientLogin()">
        <input
          class="block w-full bg-transparent text-black border border-transparent border-b-gray-400 py-2 px-4 focus:outline-none focus:border-b-black my-4"
          type="text"
          placeholder="Patient Id"
          formControlName="userId"
        />
        <input
          class="block w-full bg-transparent text-black border border-transparent border-b-gray-400 py-2 px-4 focus:outline-none focus:border-b-black my-4"
          type="date"
          placeholder="DOB"
          formControlName="dob"
        />
        <input
          class="block w-full bg-transparent text-black border border-transparent border-b-gray-400 py-2 px-4 focus:outline-none focus:border-b-black my-4"
          type="password"
          placeholder="Password"
          formControlName="password"
        />
        <button
          class="block w-full bg-purple-500 hover:bg-purple-600 rounded-full text-white font-bold shadow-md py-2 px-4 focus:outline-none"
          type="submit"
        >
          Submit
        </button>
      </form>
    } @else if (currentSection() == 2) {
      <form [formGroup]="familyLoginForm" (ngSubmit)="familyLogin()">
        <input
          class="block w-full bg-transparent text-black border border-transparent border-b-gray-400 py-2 px-4 focus:outline-none focus:border-b-black my-4"
          type="text"
          placeholder="Patient Id"
          formControlName="userId"
        />
        <input
          class="block w-full bg-transparent text-black border border-transparent border-b-gray-400 py-2 px-4 focus:outline-none focus:border-b-black my-4"
          type="date"
          placeholder="DOB"
          formControlName="dob"
        />
        <input
          class="block w-full bg-transparent text-black border border-transparent border-b-gray-400 py-2 px-4 focus:outline-none focus:border-b-black my-4"
          type="text"
          placeholder="Family Member Id"
          formControlName="memberId"
        />
        <input
          class="block w-full bg-transparent text-black border border-transparent border-b-gray-400 py-2 px-4 focus:outline-none focus:border-b-black my-4"
          type="password"
          placeholder="Family Member Password"
          formControlName="password"
        />
        <button
          class="block w-full bg-purple-500 hover:bg-purple-600 rounded-full text-white font-bold shadow-md py-2 px-4 focus:outline-none"
          type="submit"
        >
          Submit
        </button>
      </form>
    }
  </div>
</model-wrapper>

@if (show()) {
  <add-patient (onCloseAddPatient)="closeAddPatient()" />
}
